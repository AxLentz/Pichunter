---
description: "Pichunter 项目概览、功能需求与进度追踪"
---

# 规则: 项目概览 (Project Summary)

## 1. 项目概览与技术栈
Pichunter 是一个 Figma 插件，旨在通过 AI (Gemini/GPT-4V) 自动识别设计稿中的 UI 组件，并将其转化为结构化数据或真实的 Figma 组件。

**技术栈**:
- **前端**: Figma Plugin SDK, TypeScript, Native HTML/CSS。
- **后端**: Python 3.10+, FastAPI, Gemini AI API。
- **工具**: `uv` (Python 包管理), `npm` (前端构建)。

--------------------------------------------------

## 2. 核心功能与 UI 逻辑
1. **图像导出**: 自动将选中的 Figma 节点导出为图片。
2. **AI 识别**: 识别组件类型、坐标、标签及置信度。
3. **可视化覆盖**: 预览图中需正确标记组件位置及分类颜色。

--------------------------------------------------

## 3. 业务逻辑与接口契约
1. **交互流**: 选择元素 -> 导出 -> 后端识别 -> 结果展示。
2. **代码唯一真相 (SSOT)**: 
   - 前后端数据结构完全以**源码中的类型定义为准**。
   - Agent 任务开始前须主动检索项目中的 **Schema 定义 (Python)** 或 **Type/Interface 定义 (TypeScript)** 以对齐字段，严禁在 Rule 中维护重复的字段镜像。

--------------------------------------------------

## 4. 任务与进度追踪 (Roadmap)

### 后端开发 (Backend)
- [x] 基于 FastAPI 搭建基础框架并完成 Gemini AI 识别逻辑集成。
- [x] 完成核心 API 端点设计及前后端数据交换契约。
- [ ] 完善环境变量安全管理及生产环境部署配置。

### 前端开发 (Frontend)
- [x] 实现 Figma 选区导出、UI 预览及基于 Canvas 的组件缩略图动态裁剪。
- [x] 完成识别结果列表展示及交互基础框架。
- [ ] 优化选区变更时的自动同步逻辑，提升操作流畅度。
- [ ] 实现点击识别结果列表项后在 Figma 画布中反向定位并选中节点。
